<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mural Generator</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&family=Share+Tech+Mono&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/static/css/styles.css" />
  </head>
  <body>
    <div class="container">
      <header>
        <h1>MURAL GENERATOR <span class="blink">_</span></h1>
        <p>SYSTEM INITIALIZED. READY FOR INPUT.</p>
      </header>

      <form id="generatorForm">
        <div class="input-group">
          <label for="authToken">AUTH TOKEN</label>
          <div style="display: flex; gap: 0.5rem">
            <input
              type="password"
              id="authToken"
              name="auth_token"
              required
              placeholder="Bearer Token..."
              value="{{ access_token if access_token else '' }}"
              style="flex: 1"
            />
            <a
              href="/login"
              class="tab-btn"
              style="
                text-decoration: none;
                text-align: center;
                line-height: 2.5rem;
                color: var(--accent-color);
                border-color: var(--accent-color);
              "
              >LOGIN WITH MURAL</a
            >
          </div>
        </div>

        <div class="input-group">
          <label for="workspaceId">WORKSPACE ID</label>
          <input
            type="text"
            id="workspaceId"
            name="workspace_id"
            required
            placeholder="Workspace GUID..."
          />
        </div>

        <div class="tabs">
          <button type="button" class="tab-btn active" data-tab="text-input">
            JSON TEXT
          </button>
          <button type="button" class="tab-btn" data-tab="file-input">
            FILE UPLOAD
          </button>
        </div>

        <div id="text-input" class="tab-content active">
          <textarea
            id="jsonText"
            name="json_text"
            placeholder='[{"room": {"name": "Test Room"}, ...}]'
          ></textarea>
        </div>

        <div id="file-input" class="tab-content">
          <div class="file-upload-wrapper">
            <input type="file" id="jsonFile" name="json_file" accept=".json" />
            <span class="file-upload-label">CLICK TO UPLOAD JSON FILE</span>
          </div>
        </div>

        <button type="submit" id="submitBtn">INITIATE GENERATION</button>
      </form>

      <div id="console-output">
        <div class="console-header">SYSTEM LOGS</div>
        <div id="logs"></div>
      </div>
    </div>
    <script src="/static/js/main.js"></script>
  </body>
</html>
